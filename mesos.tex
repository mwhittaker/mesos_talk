\documentclass{beamer}
\title{Mesos}
\author{Michael Whittaker}

\usepackage{etoolbox}
\usepackage{external}
\usepackage{hyperref}
\usepackage{slides}

\usepackage{tikz}
\usetikzlibrary{decorations.pathmorphing}
\usetikzlibrary{decorations.pathreplacing}
\usetikzlibrary{patterns}
\usetikzlibrary{shapes}

\begin{document}
\begin{frame}
  \includegraphics[width=\textwidth]{mesos-logo.png}

  \begin{center}
    Michael Whittaker
  \end{center}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Overview
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\tikzstyle{server}=[inner sep=0, outer sep=0]
\tikzstyle{slot}=[draw, opacity=0.8, minimum width=0.9cm, minimum height=0.4cm]
\tikzstyle{framework}=[draw, minimum width=2cm, minimum height=1cm]
\tikzstyle{frameworktwo}=[draw, minimum width=2cm, minimum height=2.5cm]

\newcommand{\red}{red!50}
\newcommand{\orange}{orange!50}
\newcommand{\green}{green!50}
\newcommand{\blue}{blue!50}
\newcommand{\purple}{purple!50}
\newcommand{\black}{black!50}

\newcommand{\boundingbox}{
  % \draw[help lines] (0, 0) grid (8.5, 7);
  \path (0, -1) grid (8.5, 7);
}

% \drawserver
%   1: {id}
%   2: {x-coordinate}
%   3: {y-coordinate}
\newcommand{\drawserver}[3]{
  \node[server] (s#1) at (#2, #3) {\includegraphics[width=1cm]{server.png}};
}

% \drawslots
%   1: {id}
%   2: {x-coordinate}
%   3: {y-coordinate}
%   4: {slot 0 color}
%   5: {slot 1 color}
%   6: {slot 2 color}
\newcommand{\drawslots}[6]{
  \drawserver{#1}{#2}{#3};
  \node[slot, fill=#4] (s#1.0) at (#2, #3+0.5) {};
  \node[slot, fill=#5] (s#1.1) at (#2, #3    ) {};
  \node[slot, fill=#6] (s#1.2) at (#2, #3-0.5) {};
}

% \oneslot{x}{y}{color}
\newcommand{\oneslot}[3]{
  \draw[fill=#3] (#1, #2) rectangle (#1 + 0.4, #2 + 0.9);
}

% \twoslots{x}{y}{color 1}{color 2}
\newcommand{\twoslots}[4]{
  \oneslot{#1}{#2}{#3}
  \oneslot{#1 + 0.5}{#2}{#4}
}

% \threeslots{x}{y}{color 1}{color 2}{color 3}
\newcommand{\threeslots}[5]{
  \oneslot{#1}{#2}{#3}
  \oneslot{#1 + 0.5}{#2}{#4}
  \oneslot{#1 + 1.0}{#2}{#5}
}

% \fourslots{x}{y}{color 1}{color 2}{color 3}{color 4}
\newcommand{\fourslots}[6]{
  \oneslot{#1}{#2}{#3}
  \oneslot{#1 + 0.5}{#2}{#4}
  \oneslot{#1 + 1.0}{#2}{#5}
  \oneslot{#1 + 1.5}{#2}{#6}
}

\newcommand{\hadoopone}{
  \node[
    draw,
    minimum width=5cm, minimum height=3cm,
    label={[shift={(0, -1cm)}]north:Hadoop}
  ] (hadoop) at (5, 4.5) {};
  \foreach \i in {0, ..., 5} {
    \draw (hadoop) -- (s\i);
  }
}

\newcommand{\hadooptwo}{
  \node[
    draw,
    minimum width=5cm, minimum height=3cm,
    label={[shift={(0, -1cm)}]north:Hadoop}
  ] (hadoop) at (2, 4.5) {};
}

\newcommand{\stormtwo}{
  \node[
    draw,
    minimum width=5cm, minimum height=3cm,
    label={[shift={(0, -1cm)}]north:Storm}
  ] (storm) at (8, 4.5) {};
}

\newcommand{\hadooptwofull}{
  \hadooptwo{}
  \foreach \i in {0, ..., 2} {
    \draw (hadoop) -- (s\i);
  }
}

\newcommand{\stormtwofull}{
  \stormtwo{}
  \foreach \i in {3, ..., 5} {
    \draw (storm) -- (s\i);
  }
}

\newcommand{\tear}{
  \draw[decoration = {zigzag,segment length = 4mm, amplitude = 1mm}, decorate]
    (5, 6.5) -- (5, -1);
}

\begin{frame}
  \makebox[\textwidth][c]{
    \centering
    \begin{tikzpicture}
      \boundingbox{}

      \drawserver{0}{0 }{0}
      \drawserver{1}{2 }{0}
      \drawserver{2}{4 }{0}
      \drawserver{3}{6 }{0}
      \drawserver{4}{8 }{0}
      \drawserver{5}{10}{0}
    \end{tikzpicture}
  }
\end{frame}

\begin{frame}
  \makebox[\textwidth][c]{
    \centering
    \begin{tikzpicture}
      \boundingbox{}

      \drawslots{0}{0 }{0}{white}{white}{white}
      \drawslots{1}{2 }{0}{white}{white}{white}
      \drawslots{2}{4 }{0}{white}{white}{white}
      \drawslots{3}{6 }{0}{white}{white}{white}
      \drawslots{4}{8 }{0}{white}{white}{white}
      \drawslots{5}{10}{0}{white}{white}{white}
    \end{tikzpicture}
  }
\end{frame}

\begin{frame}
  \makebox[\textwidth][c]{
    \centering
    \begin{tikzpicture}
      \boundingbox{}

      \hadoopone{}

      \drawslots{0}{0 }{0}{white}{white}{white}
      \drawslots{1}{2 }{0}{white}{white}{white}
      \drawslots{2}{4 }{0}{white}{white}{white}
      \drawslots{3}{6 }{0}{white}{white}{white}
      \drawslots{4}{8 }{0}{white}{white}{white}
      \drawslots{5}{10}{0}{white}{white}{white}
    \end{tikzpicture}
  }
\end{frame}

\begin{frame}
  \makebox[\textwidth][c]{
    \centering
    \begin{tikzpicture}
      \boundingbox{}

      \hadoopone{}
      \fourslots{3}{3.5}{\red}{\red}{\blue}{\blue}
      \fourslots{5}{3.5}{\green}{\green}{\orange}{\orange}

      \drawslots{0}{0 }{0}{white}{white}{white}
      \drawslots{1}{2 }{0}{white}{white}{white}
      \drawslots{2}{4 }{0}{white}{white}{white}
      \drawslots{3}{6 }{0}{white}{white}{white}
      \drawslots{4}{8 }{0}{white}{white}{white}
      \drawslots{5}{10}{0}{white}{white}{white}
    \end{tikzpicture}
  }
\end{frame}

\begin{frame}
  \makebox[\textwidth][c]{
    \centering
    \begin{tikzpicture}
      \boundingbox{}

      \hadoopone{}
      \fourslots{3}{3.5}{\red}{\blue}{\blue}{\green}
      \threeslots{5}{3.5}{\green}{\orange}{\orange}

      \drawslots{0}{0 }{0}{\red}{white}{white}
      \drawslots{1}{2 }{0}{white}{white}{white}
      \drawslots{2}{4 }{0}{white}{white}{white}
      \drawslots{3}{6 }{0}{white}{white}{white}
      \drawslots{4}{8 }{0}{white}{white}{white}
      \drawslots{5}{10}{0}{white}{white}{white}
    \end{tikzpicture}
  }
\end{frame}

\begin{frame}
  \makebox[\textwidth][c]{
    \centering
    \begin{tikzpicture}
      \boundingbox{}

      \hadoopone{}
      \fourslots{3}{3.5}{\blue}{\blue}{\green}{\green}
      \twoslots{5}{3.5}{\orange}{\orange}

      \drawslots{0}{0 }{0}{\red}{white}{white}
      \drawslots{1}{2 }{0}{\red}{white}{white}
      \drawslots{2}{4 }{0}{white}{white}{white}
      \drawslots{3}{6 }{0}{white}{white}{white}
      \drawslots{4}{8 }{0}{white}{white}{white}
      \drawslots{5}{10}{0}{white}{white}{white}
    \end{tikzpicture}
  }
\end{frame}

\begin{frame}
  \makebox[\textwidth][c]{
    \centering
    \begin{tikzpicture}
      \boundingbox{}

      \hadoopone{}
      \oneslot{3}{3.5}{\orange}

      \drawslots{0}{0 }{0}{\red }{\blue}{white}
      \drawslots{1}{2 }{0}{\red }{\blue}{white}
      \drawslots{2}{4 }{0}{\green}{white}{white}
      \drawslots{3}{6 }{0}{\green}{white}{white}
      \drawslots{4}{8 }{0}{\orange}{white}{white}
      \drawslots{5}{10}{0}{white}{white}{white}
    \end{tikzpicture}
  }
\end{frame}

\begin{frame}
  \makebox[\textwidth][c]{
    \centering
    \begin{tikzpicture}
      \boundingbox{}

      \hadoopone{}
      \fourslots{3}{3.5}{\orange}{\red}{\green}{\red}
      \fourslots{5}{3.5}{\purple}{\purple}{\black}{\purple}

      \drawslots{0}{0 }{0}{\red }{\blue}{white}
      \drawslots{1}{2 }{0}{\red }{\blue}{white}
      \drawslots{2}{4 }{0}{\green}{white}{white}
      \drawslots{3}{6 }{0}{\green}{white}{white}
      \drawslots{4}{8 }{0}{\orange}{white}{white}
      \drawslots{5}{10}{0}{white}{white}{white}
    \end{tikzpicture}
  }
\end{frame}

\begin{frame}
  \makebox[\textwidth][c]{
    \centering
    \begin{tikzpicture}
      \boundingbox{}

      \hadoopone{}

      \drawslots{0}{0 }{0}{\red }{\blue}{white}
      \drawslots{1}{2 }{0}{\red }{\blue}{\purple}
      \drawslots{2}{4 }{0}{\green}{\purple}{\black}
      \drawslots{3}{6 }{0}{\green}{\purple}{white}
      \drawslots{4}{8 }{0}{\orange}{\green}{white}
      \drawslots{5}{10}{0}{\red}{\purple}{white}
    \end{tikzpicture}
  }
\end{frame}

\begin{frame}
  \makebox[\textwidth][c]{
    \centering
    \begin{tikzpicture}
      \boundingbox{}

      \hadooptwo{}
      \stormtwo{}

      \drawslots{0}{0 }{0}{white}{white}{white}
      \drawslots{1}{2 }{0}{white}{white}{white}
      \drawslots{2}{4 }{0}{white}{white}{white}
      \drawslots{3}{6 }{0}{white}{white}{white}
      \drawslots{4}{8 }{0}{white}{white}{white}
      \drawslots{5}{10}{0}{white}{white}{white}
    \end{tikzpicture}
  }
\end{frame}

\begin{frame}
  \makebox[\textwidth][c]{
    \centering
    \begin{tikzpicture}
      \boundingbox{}

      \hadooptwofull{}
      \stormtwofull{}
      \tear{}

      \drawslots{0}{0 }{0}{white}{white}{white}
      \drawslots{1}{2 }{0}{white}{white}{white}
      \drawslots{2}{4 }{0}{white}{white}{white}
      \drawslots{3}{6 }{0}{white}{white}{white}
      \drawslots{4}{8 }{0}{white}{white}{white}
      \drawslots{5}{10}{0}{white}{white}{white}
    \end{tikzpicture}
  }
\end{frame}

\begin{frame}
  \makebox[\textwidth][c]{
    \centering
    \begin{tikzpicture}
      \boundingbox{}

      \hadooptwofull{}
      \stormtwofull{}
      \tear{}

      \fourslots{0}{3.5}{\red}{\red}{\red}{\blue}
      \fourslots{2}{3.5}{\orange}{\orange}{\black}{\black}

      \threeslots{6}{3.5}{\purple}{\purple}{\green}

      \drawslots{0}{0 }{0}{white}{white}{white}
      \drawslots{1}{2 }{0}{white}{white}{white}
      \drawslots{2}{4 }{0}{white}{white}{white}
      \drawslots{3}{6 }{0}{white}{white}{white}
      \drawslots{4}{8 }{0}{white}{white}{white}
      \drawslots{5}{10}{0}{white}{white}{white}
    \end{tikzpicture}
  }
\end{frame}

\begin{frame}
  \makebox[\textwidth][c]{
    \centering
    \begin{tikzpicture}
      \boundingbox{}

      \hadooptwofull{}
      \stormtwofull{}
      \tear{}

      \fourslots{0}{3.5}{\red}{\red}{\blue}{\orange}
      \threeslots{2}{3.5}{\orange}{\black}{\black}

      \twoslots{6}{3.5}{\purple}{\green}

      \drawslots{0}{0 }{0}{\red}{white}{white}
      \drawslots{1}{2 }{0}{white}{white}{white}
      \drawslots{2}{4 }{0}{white}{white}{white}
      \drawslots{3}{6 }{0}{\purple}{white}{white}
      \drawslots{4}{8 }{0}{white}{white}{white}
      \drawslots{5}{10}{0}{white}{white}{white}
    \end{tikzpicture}
  }
\end{frame}

\begin{frame}
  \makebox[\textwidth][c]{
    \centering
    \begin{tikzpicture}
      \boundingbox{}

      \hadooptwofull{}
      \stormtwofull{}
      \tear{}

      \fourslots{0}{3.5}{\red}{\blue}{\orange}{\orange}
      \twoslots{2}{3.5}{\black}{\black}

      \oneslot{6}{3.5}{\green}

      \drawslots{0}{0 }{0}{\red}{white}{white}
      \drawslots{1}{2 }{0}{\red}{white}{white}
      \drawslots{2}{4 }{0}{white}{white}{white}
      \drawslots{3}{6 }{0}{\purple}{white}{white}
      \drawslots{4}{8 }{0}{\purple}{white}{white}
      \drawslots{5}{10}{0}{white}{white}{white}
    \end{tikzpicture}
  }
\end{frame}

\begin{frame}
  \makebox[\textwidth][c]{
    \centering
    \begin{tikzpicture}
      \boundingbox{}

      \hadooptwofull{}
      \stormtwofull{}
      \tear{}

      \fourslots{0}{3.5}{\blue}{\orange}{\orange}{\black}
      \oneslot{2}{3.5}{\black}

      \drawslots{0}{0 }{0}{\red}{white}{white}
      \drawslots{1}{2 }{0}{\red}{white}{white}
      \drawslots{2}{4 }{0}{\red}{white}{white}
      \drawslots{3}{6 }{0}{\purple}{white}{white}
      \drawslots{4}{8 }{0}{\purple}{white}{white}
      \drawslots{5}{10}{0}{\green}{white}{white}
    \end{tikzpicture}
  }
\end{frame}

\begin{frame}
  \makebox[\textwidth][c]{
    \centering
    \begin{tikzpicture}
      \boundingbox{}

      \hadooptwofull{}
      \stormtwofull{}
      \tear{}

      \fourslots{0}{3.5}{\red}{\red}{\blue}{\orange}
      \fourslots{2}{3.5}{\black}{\black}{\blue}{\blue}

      \oneslot{6}{3.5}{\green}

      \drawslots{0}{0 }{0}{\red}{\blue}{\black}
      \drawslots{1}{2 }{0}{\red}{\orange}{white}
      \drawslots{2}{4 }{0}{\red}{\black}{white}
      \drawslots{3}{6 }{0}{\purple}{white}{white}
      \drawslots{4}{8 }{0}{\purple}{white}{white}
      \drawslots{5}{10}{0}{\green}{white}{white}
    \end{tikzpicture}
  }
\end{frame}

\begin{frame}
  \makebox[\textwidth][c]{
    \centering
    \begin{tikzpicture}
      \boundingbox{}

      \hadooptwofull{}
      \stormtwofull{}
      \tear{}

      \fourslots{0}{3.5}{\blue}{\orange}{\black}{\black}
      \twoslots{2}{3.5}{\blue}{\blue}

      \drawslots{0}{0 }{0}{\red}{\blue}{\black}
      \drawslots{1}{2 }{0}{\red}{\orange}{\red}
      \drawslots{2}{4 }{0}{\red}{\black}{\red}
      \drawslots{3}{6 }{0}{\purple}{\green}{white}
      \drawslots{4}{8 }{0}{\purple}{white}{white}
      \drawslots{5}{10}{0}{\green}{white}{white}
    \end{tikzpicture}
  }
\end{frame}

\begin{frame}
  \makebox[\textwidth][c]{
    \centering
    \begin{tikzpicture}
      \boundingbox{}

      \node[framework] (Hadoop)  at (0.5, 6) {Hadoop};
      \node[framework] (Storm)   at (3.5, 6) {Storm};
      \node[framework] (Spark)   at (6.5, 6) {Spark};

      \node[
        draw,
        minimum width=5cm, minimum height=2.5cm,
        label={[shift={(0, -1cm)}]north:Mesos}
      ] (mesos) at (5, 3) {};
      \foreach \i in {s0, s1, s2, s3, s4, s5, Hadoop, Storm, Spark} {
        \draw (mesos) -- (\i);
      }
      \fourslots{3}{2}{\red}{\red}{\red}{\blue}
      \fourslots{5}{2}{\blue}{\black}{\red}{\black}

      \drawserver{0}{0 }{0}
      \drawserver{1}{2 }{0}
      \drawserver{2}{4 }{0}
      \drawserver{3}{6 }{0}
      \drawserver{4}{8 }{0}
      \drawserver{5}{10}{0}
    \end{tikzpicture}
  }
\end{frame}

\begin{frame}
  \makebox[\textwidth][c]{
    \centering
    \begin{tikzpicture}
      \boundingbox{}

      \node[framework] (Hadoop)  at (0.5, 6) {Hadoop};
      \node[framework] (Storm)   at (3.5, 6) {Storm};
      \node[framework] (Spark)   at (6.5, 6) {Spark};
      \node[dashed, framework] (unknown) at (9.5, 6) {???};

      \node[
        draw,
        minimum width=5cm, minimum height=2.5cm,
        label={[shift={(0, -1cm)}]north:Mesos}
      ] (mesos) at (5, 3) {};
      \foreach \i in {s0, s1, s2, s3, s4, s5, Hadoop, Storm, Spark} {
        \draw (mesos) -- (\i);
      }
      \draw[dashed] (mesos) -- (unknown);
      \fourslots{3}{2}{\red}{\red}{\red}{\blue}
      \fourslots{5}{2}{\blue}{\black}{\red}{\black}

      \drawserver{0}{0 }{0}
      \drawserver{1}{2 }{0}
      \drawserver{2}{4 }{0}
      \drawserver{3}{6 }{0}
      \drawserver{4}{8 }{0}
      \drawserver{5}{10}{0}
    \end{tikzpicture}
  }
\end{frame}

\begin{frame}
  \makebox[\textwidth][c]{
    \centering
    \begin{tikzpicture}
      \boundingbox{}

      \node[frameworktwo, label={[shift={(0, -1cm)}]north:Hadoop}]
        (Hadoop) at (0.5, 5.5) {};
      \node[frameworktwo, label={[shift={(0, -1cm)}]north:Storm}]
        (Storm) at (3.5, 5.5) {};
      \node[frameworktwo, label={[shift={(0, -1cm)}]north:Spark}]
        (Spark) at (6.5, 5.5) {};
      \node[frameworktwo, dashed, label={[shift={(0, -1cm)}]north:???}]
        (unknown) at (9.5, 5.5) {};

      \threeslots{-0.25}{4.5}{\red}{\red}{\red}
      \threeslots{ 2.75}{4.5}{\blue}{\blue}{\blue}
      \threeslots{ 5.75}{4.5}{\orange}{\orange}{\orange}
      \threeslots{ 8.75}{4.5}{\green}{\green}{\green}

      \node[
        draw,
        minimum width=5cm, minimum height=1cm,
      ] (mesos) at (5, 2.5) {Mesos};
      \foreach \i in {s0, s1, s2, s3, s4, s5, Hadoop, Storm, Spark} {
        \draw (mesos) -- (\i);
      }
      \draw[dashed] (mesos) -- (unknown);

      \drawserver{0}{0 }{0}
      \drawserver{1}{2 }{0}
      \drawserver{2}{4 }{0}
      \drawserver{3}{6 }{0}
      \drawserver{4}{8 }{0}
      \drawserver{5}{10}{0}
    \end{tikzpicture}
  }
\end{frame}

\picframe{mesos-2.pdf}{width=\textwidth}{}
\picframe{mesos-1.pdf}{width=\textwidth}{}

\begin{frame}{Resource Allocation}
  TODO
\end{frame}

\begin{frame}{Isolation}
  TODO
\end{frame}

\begin{frame}{Scalability and Robustness}
  TODO
\end{frame}

\begin{frame}
  \begin{center}
    \Huge Demo
  \end{center}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Behavior
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}{Mesos Behavior}
  \begin{center}
    \Huge
    Mesos performs best with \emph{elastic} frameworks and \emph{homogenous}
    task durations.
  \end{center}
\end{frame}

\tikzstyle{task}=[draw, minimum width=3.9cm, minimum height=0.45cm]

% \threetasks{x}{y}{color 1}{color 2}{color 3}
\newcommand{\threetasks}[5]{
  \node[task, fill=#3] at (#1 + 0, #2) {};
  \node[task, fill=#4] at (#1 + 4, #2) {};
  \node[task, fill=#5] at (#1 + 8, #2) {};
}

\begin{frame}{Rigid Framework}
  \begin{itemize}
    \item Ramp-up time:  $T$
    \item Completion time: $(1 + \beta) T$
    \item Utilization: $\frac{\beta}{\frac{1}{2} + \beta}$
  \end{itemize}

  \vspace{0.25cm}

  \makebox[\textwidth][c]{
    \scalebox{0.85}{
    \centering
    \begin{tikzpicture}
      % k
      \draw[decorate, decoration={brace, amplitude=10pt}]
        (-0.1, 0.05) -- (-0.1, 3.95) node[midway, xshift=-1cm] {$n = k$};

      % T
      \draw[decorate, decoration={brace, mirror, amplitude=10pt}]
        (0.05, -0.1) -- (3.95, -0.1) node[midway, yshift=-0.6cm] {$T$};
      \draw[decorate, decoration={brace, mirror, amplitude=10pt}]
        (4.05, -0.1) -- (7.95, -0.1) node[midway, yshift=-0.6cm] {$T$};
      \draw[decorate, decoration={brace, mirror, amplitude=10pt}]
        (8.05, -0.1) -- (11.95, -0.1) node[midway, yshift=-0.6cm] {$T$};

      % beta
      \draw[decorate, decoration={brace, mirror, amplitude=10pt}]
        (0.05, -0.75) -- (7.95, -0.75) node[midway, yshift=-0.6cm] {$\beta T$};

      % 1 + beta
      \draw[decorate, decoration={brace, mirror, amplitude=10pt}]
      (0.05, -1.5) -- (11.95, -1.5) node[midway, yshift=-0.6cm] {$(1 + \beta) T$};

      \begin{scope}
        \clip[] (0.04, -1) rectangle (11.96, 4);

        \threetasks{2.0}{0.25}{white}{white}{white}
        \threetasks{2.5}{0.75}{white}{white}{white}
        \threetasks{3.0}{1.25}{white}{white}{white}
        \threetasks{3.5}{1.75}{white}{white}{white}
        \threetasks{4.0}{2.25}{white}{white}{white}
        \threetasks{4.5}{2.75}{white}{white}{white}
        \threetasks{5.0}{3.25}{white}{white}{white}
        \threetasks{5.5}{3.75}{white}{white}{white}

        \threetasks{-9.5}{0.75}{\blue}{\blue}{\blue}
        \threetasks{-9.0}{1.25}{\blue}{\blue}{\blue}
        \threetasks{-8.5}{1.75}{\blue}{\blue}{\blue}
        \threetasks{-8.0}{2.25}{\blue}{\blue}{\blue}
        \threetasks{-7.5}{2.75}{\blue}{\blue}{\blue}
        \threetasks{-7.0}{3.25}{\blue}{\blue}{\blue}
        \threetasks{-6.5}{3.75}{\blue}{\blue}{\blue}
      \end{scope}

      \begin{scope}
        \clip[] (3.56, 0) rectangle (11.96, 4);
        \threetasks{2.0}{0.25}{\red}{\red}{\red}
        \threetasks{2.5}{0.75}{\red}{\red}{\red}
        \threetasks{3.0}{1.25}{\red}{\red}{\red}
        \threetasks{3.5}{1.75}{\red}{\red}{\red}
        \threetasks{4.0}{2.25}{\red}{\red}{\red}
        \threetasks{4.5}{2.75}{\red}{\red}{\red}
        \threetasks{5.0}{3.25}{\red}{\red}{\red}
        \threetasks{5.5}{3.75}{\red}{\red}{\red}
      \end{scope}

      \pause
      \draw[ultra thick, rounded corners, opacity=0.75, fill=yellow!50]
        (0, 0) -- (0, 0.5) -- (3.5, 4) -- (3.5, 0) -- cycle;
      \draw[ultra thick, rounded corners, opacity=0.75, fill=yellow!50]
        (3.5, 4) -- (12, 4) -- (12, 0) -- (3.5, 0) -- cycle;
      \node () at (8, 2) {\huge $k \beta T$};
      \node () at (2.5, 2) {\huge $\frac{kT}{2}$};
    \end{tikzpicture}
  }
  }
\end{frame}

\begin{frame}{Elastic Framework}
  \begin{itemize}
    \item Ramp-up time:  $T$
    \item Completion time: $(\frac{1}{2} + \beta) T$
    \item Utilization: $1$
  \end{itemize}

  \vspace{0.25cm}

  \makebox[\textwidth][c]{
    \scalebox{0.85}{
    \centering
    \begin{tikzpicture}
      % k
      \draw[decorate, decoration={brace, amplitude=10pt}]
        (-0.1, 0.05) -- (-0.1, 3.95) node[midway, xshift=-1cm] {$n = k$};

      % T
      \draw[decorate, decoration={brace, mirror, amplitude=10pt}]
        (0.05, -0.1) -- (3.95, -0.1) node[midway, yshift=-0.6cm] {$T$};
      \draw[decorate, decoration={brace, mirror, amplitude=10pt}]
        (4.05, -0.1) -- (7.95, -0.1) node[midway, yshift=-0.6cm] {$T$};
      \draw[decorate, decoration={brace, mirror, amplitude=10pt}]
      (8.05, -0.1) -- (9.95, -0.1) node[midway, yshift=-0.6cm] {$\frac{T}{2}$};

      % beta
      \draw[decorate, decoration={brace, mirror, amplitude=10pt}]
        (0.05, -0.75) -- (7.95, -0.75) node[midway, yshift=-0.6cm] {$\beta T$};

      % beta + 1/2
      \draw[decorate, decoration={brace, mirror, amplitude=10pt}]
        (0.05, -1.5) -- (9.95, -1.5) node[midway, yshift=-0.6cm]
        {$(\frac{1}{2} + \beta) T$};

      \begin{scope}
        \clip[] (0.04, -1) rectangle (9.94, 4);

        \threetasks{2.0}{0.25}{\red}{\red}{\red}
        \threetasks{2.5}{0.75}{\red}{\red}{\red}
        \threetasks{3.0}{1.25}{\red}{\red}{\red}
        \threetasks{3.5}{1.75}{\red}{\red}{\red}
        \threetasks{4.0}{2.25}{\red}{\red}{\red}
        \threetasks{4.5}{2.75}{\red}{\red}{\red}
        \threetasks{5.0}{3.25}{\red}{\red}{\red}
        \threetasks{5.5}{3.75}{\red}{\red}{\red}

        \threetasks{-9.5}{0.75}{\blue}{\blue}{\blue}
        \threetasks{-9.0}{1.25}{\blue}{\blue}{\blue}
        \threetasks{-8.5}{1.75}{\blue}{\blue}{\blue}
        \threetasks{-8.0}{2.25}{\blue}{\blue}{\blue}
        \threetasks{-7.5}{2.75}{\blue}{\blue}{\blue}
        \threetasks{-7.0}{3.25}{\blue}{\blue}{\blue}
        \threetasks{-6.5}{3.75}{\blue}{\blue}{\blue}
      \end{scope}
    \end{tikzpicture}
  }
  }
\end{frame}

\begin{frame}{Placement Preferences}
\end{frame}

\begin{frame}{Heterogenous Tasks}
\end{frame}

\begin{frame}{Limitations}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Implementation
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}{Implementation}
  \begin{itemize}
    \item ...
    \item ...
    \item ...
  \end{itemize}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Lessons
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}{Lessons}
  \begin{itemize}
    \item Narrow waist
    \item End-to-end principle
    \item Simplicity
  \end{itemize}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Conclusion
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \begin{center}
    \Huge Questions
  \end{center}
\end{frame}

\end{document}
